<html>
    <style>

    div
    {
        text-align: center;
        position: fixed;
        left: 50%;
        top: 0;
        transform: translateX(-50%);
    }

    img
    {
        margin: 10px;
        width: 64px;
        height: 64px;
        border: 3px solid black;
        border-radius: 64px;
    }

    span
    {
        display: block;
        float: left;
        width: 74px;
        height: 74px;
        background-color: transparent;
        margin: 10px;
        clip-path: polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%);
    }

    </style>
    <script type="text/javascript" src="jquery-3.1.1.min.js"></script>
    <script>

    let steamdata = [];

    /*jcmp.AddEvent('NumPlayersIngame', (num) => 
    {
        $("body").text(`${num} players remain`);
        if (num == 1)
        {
            $("body").text(`${num} player remains`);
        }
    });*/

    jcmp.AddEvent('deathmatch/cannonsound', () => 
    {
        var x = document.createElement("AUDIO");
        x.setAttribute("src","./music/death.ogg");
        x.setAttribute("duration","5");
        x.play();
        
    })

    jcmp.AddEvent('deathmatch/playerdied', (id) => {
        // Make the X red and make their avatar grayscale
        $("#networkId_" + id).css("background-color", "red");
        $("#avatar_" + id).css("filter", "grayscale(100%)");
    })

    jcmp.AddEvent('deathmatch/updatesteamavatars', (steam_urls) => {
        steamdata = JSON.parse(steam_urls);
    })

    jcmp.AddEvent('deathmatch/startcountdownsound', () => 
    {
        CreateAvatars(steamdata);
    });

    function CreateAvatars(data)
    {
        // Create avatar images
        const avatar_div = $("#avatars");
        avatar_div.empty();
        data.forEach(function(profile) 
        {
            let img = document.createElement("img");
            img.id = "avatar_" + profile.id;
            img.src = profile.url;
            avatar_div.append(img);
        });

        // Create Xs
        const x_div = $("#x");
        x_div.empty();
        data.forEach(function(profile) 
        {
            let x = document.createElement("span");
            x.id = "networkId_" + profile.id;
            x_div.append(x);
        });
    }

    jcmp.AddEvent('ResetCountdownCSS', () => {
    })
    
    </script>
    <div id="avatars">
        <img src="https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/69/69f109df54e4b1e75feeee569f3a754305c02a6b_medium.jpg"></img>
        <img src="https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/69/69f109df54e4b1e75feeee569f3a754305c02a6b_medium.jpg"></img>
        <img src="https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/69/69f109df54e4b1e75feeee569f3a754305c02a6b_medium.jpg"></img>
        <img src="https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/69/69f109df54e4b1e75feeee569f3a754305c02a6b_medium.jpg"></img>
    </div>
    <div id="x">
        <span style="background-color: transparent"></span>
        <span></span>
        <span style="background-color: transparent"></span>
        <span></span>
    </div>
</html>